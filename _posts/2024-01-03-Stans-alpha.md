---
layout: post
title: Stan's Alpha
date: 2024-01-03 13:49
---

В теории портфеля Марковица есть альфа и бета.

Альфа - это типа прибыльность бумаги за вычетом прибыльности рынка.

Бета - волатильность.

Раньше я бы читал википедию, но нынче разленился, спрашиваю чат жпт:

```
Альфа отражает эффективность управления активами по сравнению с определенным бенчмарком или рыночным индексом.
...
Бета измеряет волатильность или систематический риск инвестиционного актива по отношению к общему рынку или выбранному бенчмарку.
```

Мне попадались такие утверждения как "ищи альфу". Типа надо гоняться не за прибыльностью, а за прибыльностью за вычитом волатильности.

Формула для альфы: a = Ri' - b * Rm'.
a - альфа
b - бета
Ri' - доходность инструмента скорректированная на безрисковую доходность.
Rm' - доходность рынка скорректированная на безрисковую доходность.

Коррекцию на безрисковую доходность можно опустить. Она означает, что из доходности надо вычесть безрисковую доходность (процентную ставку по облигациям США).

Можно немного иначе смотреть на эту же формулу, если перенести Ri влево:

```
Ri = a + b * Rm
```

В таком виде та же самая формула воспринимается как линейная регрессия между доходностью инструмента и доходностью рынка.

Линейная регрессия - это когда есть облако точек и через н проводят линию. Облаком точек в данном случае являются доходности в разные моменты времени. По горизонтальной оси - доходность рынка, по вертикальной оси - доходность инструмента. Если есть корреляция, а она обычно есть, то точки начнут ложиться на некую линию. Тогда бета будет наклоном этой
линии. Если бета больше единицы, то линия более крутая. Если меньше единицы, то менее крутая. Если меньше нуля, то вообще завалена налево. Альфа соответственно будет местом пересечения вертикальной оси в нуле.

(Мне тут пришла в голову идея, что можно было бы добавить еще и третье измерение - время и посмотреть как распределение точек будет меняться во времени. Было бы круто. Надо сделать.)

Вроде бы все понятно, но у меня все еще оставалось чувство отсутствия ясности. Поэтому я начал мусолить эту тему дальше.

Посмотрим на формулу для беты:

b = Cov(Ri, Rm) / Var(Rm). 

Бета равна ковариации между доходностью инструмента и доходностью рынка, поделить на вариацию рынка. Вариация = дисперсия. Или же стандартное отклонение в квадрате.

Однако, это все для меня не очень понятно.

Ковариация характеризует насколько инструмент следуюет за рынком. Это понятно, но математически это неотнормированный коэфициент. Не понятно какие там будут значения и как их интерпретировать. Вариацию я к сожалению тоже не понимаю. Может кто-то понимает, но я увы нет. Мне проще понимать стандартное отклонение, т.к. это ширина распределения.

Так вот бинго и аха случилось когда я догадался правую часть формулы для беты домножить и поделить на стандартное отклонение доходности инструмента. Тогда вуаля и получается, что бета равна произведению коэфициента Пирсона на отношение стандартных отклонений инструмента и рынка:

b = p * std(Ri) / std(Rm),

здесь p - это коэфициент Пирсона, который принимает значения от минус единицы до единицы и характеризует насколько цена инструмента идет за рынком. А отношение стандартных отклонений тоже очевидно что такое. 

Интересно, что я не нахожу какого-то устоявшегося названия для отношения стандартных отклонений инструмента и рынка. Поэтому буду пока называть это отношением Стена. И буду обозначать буквой s:

b = p * s

тогда формула для афльы:

a = Ri' - p * s * Rm'

Сразу становится яснее значение альфы. Она равна доходности "дебафнутой" на доходность рынка помноженную на коэфициент корреляции Пирсона и на отношении стандартных отклонений.

Но все станет еще яснее, если поделить обе части равества на отношение Стена:

a / s = Ri' / s - p * Rm'

величину a / s я предлагаю конечно назвать по традиции альфой Стена. Альфа Стен. Звучит.

Но если шутки в сторону, то на мой взгляд такая форма записи заметно понятнее.

Ri'/s - это доходность инструмента отнормированная таким образом, чтобы стандартное отклонение доходности этого отнормированного инструмента стало равно стандартному отклонению рынка. Т.е. мы сравняли их волатильности. Теперь эту доходность можно напрямую сравнивать с Rm'.

Дальше из этой отнормированной доходности мы вычитаем доходность рынка помноженную на коэфициент пирсона, который принимает значения от минус одного до одного. Тут тоже становится понятно, что мы делаем. Мы учитваем насколько следуюет инструмент за рынком.

Альфа Стена получается показывает насколько доходность инструмента выше доходности рынка. Тут можно сказать, что "здарсти, приехали. Это ведь и есть определение альфы". Но есть нюанс, что моя альфа отнормирована таким образом, чтобы ее можно было напрямую сравнивать с доходностью рынка. Т.е. она отскейлена таким образом, что если мы получили +1%, то это не херпойми какой процент, а это ровно тот же процент, в которых расчитывается доходность рынка. Т.е. это процент доходности некоего синтетического инструмента, котоый отскейлен так, что его волатильность равна среднерыночной. Поэтому можно эту величину сравнивать с доходностью рынка напрямую. Елси получили +1%, то это прямо +1% к доходности рынка, а не +1%, который надо еще поправить, чтобы учесть волатильность.